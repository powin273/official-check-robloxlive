<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Roblox Version Checker</title>
<style>
  body {
    background: #121212;
    color: #ddd;
    font-family: monospace, monospace;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    margin: 0;
    padding: 1rem;
  }
  button {
    background: #4fc3f7;
    border: none;
    padding: 0.5rem 1.2rem;
    color: #121212;
    font-weight: bold;
    cursor: pointer;
    border-radius: 12px; /* โค้งขอบ */
    transition: background-color 0.3s ease;
  }
  button:hover {
    background: #40a0d8;
  }
  pre {
    margin-top: 1rem;
    background: #222;
    padding: 1rem;
    border-radius: 12px; /* โค้งขอบ */
    width: 90vw;
    max-width: 600px;
    height: 200px;
    overflow-y: auto;
    font-size: 0.9rem;
    line-height: 1.3;
  }
  #copyText {
    margin-top: 1rem;
    font-family: monospace;
    background: #333;
    padding: 0.5rem 1rem;
    border-radius: 12px;
    user-select: all; /* ให้สามารถไฮไลต์ง่าย */
    cursor: pointer;
  }
  /* เครดิตที่มุมขวาล่าง */
  footer {
    position: fixed;
    bottom: 10px;
    right: 10px;
    color: #666;
    font-size: 0.8rem;
    opacity: 0.7;
    user-select: none;
    pointer-events: none;
    font-family: monospace, monospace;
  }
</style>
</head>
<body>
  <button onclick="fetchVersion()">Check Roblox Live Version</button>
  <pre id="output"></pre>
  <div id="copyText" style="display:none;" title="Click to copy"></div>

  <footer>Credit: https://www.youtube.com/@WinPo1R and Ai </footer>

  <script>
    async function fetchVersion() {
      const proxy = 'https://cors-anywhere.herokuapp.com/';
      const url = 'https://clientsettings.roblox.com/v2/client-version/WindowsPlayer/channel/LIVE';

      const output = document.getElementById('output');
      const copyDiv = document.getElementById('copyText');
      output.textContent = 'Loading...';
      copyDiv.style.display = 'none';
      copyDiv.textContent = '';

      try {
        const res = await fetch(proxy + url);
        if (!res.ok) throw new Error('Failed to fetch');
        const data = await res.json();

        // สร้าง object ใหม่เฉพาะ 3 keys ที่ต้องการ
        const filtered = {
          version: data.version,
          clientVersionUpload: data.clientVersionUpload,
          bootstrapperVersion: data.bootstrapperVersion
        };
        output.textContent = JSON.stringify(filtered, null, 2);

        // แสดงข้อความ copyhere ด้านล่าง
        copyDiv.style.display = 'block';
        copyDiv.textContent = 'copyhere : ' + data.clientVersionUpload;

        // เพิ่มฟังก์ชันกดคัดลอกข้อความ
        copyDiv.onclick = () => {
          navigator.clipboard.writeText(copyDiv.textContent).then(() => {
            alert('Copied to clipboard!');
          });
        };
      } catch (e) {
        output.textContent = 'Error: ' + e.message;
      }
    }
  </script>
</body>
</html>
